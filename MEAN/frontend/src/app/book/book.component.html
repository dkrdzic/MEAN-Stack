<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
      integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
      crossorigin="anonymous"
    ></script>

    <title>BOOKS</title>
  </head>

  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-6">
          <a class="link" routerLink=""> Home </a>
        </div>
      </div>

      <br />
      <br />

      <div class="d-flex justify-content-center">
        <table class="table">
          <tr>
            <th>
              <img
                src="{{ book.coverImage }}"
                style="width: 200px; height: 200px"
              />
            </th>
          </tr>

          <tr>
            <th>Naziv knige:</th>
            <td>{{ book.name }}</td>
          </tr>

          <tr>
            <th>Autor(i):</th>
            <td *ngFor="let element of book.authors">{{ element }}</td>
          </tr>

          <tr>
            <th>Datum izdavanja:</th>
            <td>{{ book.date }}</td>
          </tr>

          <tr>
            <th>Zanr(ovi):</th>
            <td *ngFor="let element of book.ganres">{{ element }}</td>
          </tr>

          <tr *ngIf="book.description">
            <th>Opis:</th>
            <td>{{ book.description }}</td>
          </tr>

          <tr *ngIf="book.rating">
            <th>Ocena:</th>
            <td>{{ book.rating }}</td>
          </tr>
        </table>
      </div>

      <br />

      <br />

      <table>
        <tr>
          <th>Komentari:</th>
        </tr>

        <tr *ngFor="let element of allComments">
          <td
            id="commentUser"
            *ngIf="element.idBook == book.id && element.type == 'book'"
            (click)="seeProfile()"
          >
            Korisnik:
          </td>
          <td *ngIf="element.idBook == book.id && element.type == 'book'">
            {{ element.comment }}
          </td>
        </tr>

        <tr>
          <th>Ocene:</th>
        </tr>

        <tr *ngFor="let element of allRatings">
          <td
            id="commentUser"
            *ngIf="element.bookId == book.id"
            (click)="seeProfile()"
          >
            Korisnik:
          </td>
          <td *ngIf="element.bookId == book.id">{{ element.note }}</td>
        </tr>

        <br />
        <br />
        <br />

        <tr>
          <td>
            <input type="submit" value="Vrati se nazad" (click)="goBack()" />
          </td>
        </tr>
      </table>

      <br />
      <br />

      <div *ngIf="a" style="color: green">
        {{ poruka }}
      </div>

      <div *ngIf="!a" style="color: red">
        {{ poruka }}
      </div>
    </div>

    <footer></footer>
  </body>
</html>
